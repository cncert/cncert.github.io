// 控制台输出合作节点信息和彩蛋
console.log(
  "%c\n Cloudflare %c百度云 %c合作节点 %c\n 162.159.208.4 >%c> 162.159.208.103 %c\n 162.159.209.4 >%c> 162.159.209.103 %c\n 162.159.210.4 >%c> 162.159.210.103 %c\n 162.159.211.4 >%c> 162.159.211.103 \n",
  "color:rgb(243, 128, 32);padding:5px 0;",
  "color:#38f;padding:5px 0;",
  "padding:5px 0;",
  "color:#444;background:#eee;padding:5px 0;",
  "color:#fff;background:#876;padding:5px 0;",
  "color:#444;background:#eee;padding:5px 0;",
  "color:#fff;background:#876;padding:5px 0;",
  "color:#444;background:#eee;padding:5px 0;",
  "color:#fff;background:#876;padding:5px 0;",
  "color:#444;background:#eee;padding:5px 0;",
  "color:#fff;background:#876;padding:5px 0;"
);
console.log(
  "%c\n清除密钥激活: %c\nslmgr /upk && slmgr /ckms && slmgr /rearm",
  "color:#38f;padding:5px 0;border:none",
  "color:#444;background:#eee;padding:5px 0;"
);
console.log(
  "%c\n设置KMS激活: %c\nslmgr /skms kms.03k.org && slmgr /ato",
  "color:#38f;padding:5px 0;border:none",
  "color:#444;background:#eee;padding:5px 0;"
);
console.log(
  "%c ",
  "background:url(https://cdn.jsdelivr.net/gh/Jay-Young/jsDelivrCDN@master/assets/images/hugo/cache/Konachan.com%20-%20305021%20sample.jpg) no-repeat center;background-size:cover;padding-left:100%;padding-bottom:55%;overflow:hidden;border-radius:10px;margin:5px 0"
);
console.log("关注大灰狼永久域名！\n");
console.log("https://cncert.github.io/");

// 混淆工具来源提示，无实际功能
var __encode = "seogo.me",
  _0xb483 = ["_decode", "http://www.sojson.com/javascriptobfuscator.html"];
window[_0xb483[0]] = _0xb483[1];

// 变量名映射
var __Ox1467e = [
  "checked",
  'input[name="type"][value="',
  '"]',
  "querySelector",
  "length",
  "s-current",
  "remove",
  "classList",
  "add",
  "parentNode",
  "superSearch",
  "setItem",
  "localStorage",
  "getItem",
  "target",
  "value",
  "type",
  "focus",
  "newWindow",
  "preventDefault",
  "",
  "action",
  "open",
  "href",
  'input[name="type"]:checked',
  "data-placeholder",
  "getAttribute",
  "placeholder",
  "setAttribute",
  "_blank",
  "removeAttribute",
  'input[name="type"]',
  "querySelectorAll",
  "#super-search-fm",
  "#search-text",
  "#set-search-blank",
  ".search-group",
  "change",
  "addEventListener",
  "submit"
];

// 搜索功能及切换
(function () {
  function setCurrent(e) {
    for (var n = 0; n < groups[__Ox1467e[4]]; n++)
      groups[n][__Ox1467e[7]][__Ox1467e[6]](__Ox1467e[5]);
    e[__Ox1467e[9]][__Ox1467e[9]][__Ox1467e[9]][__Ox1467e[7]][__Ox1467e[8]](
      __Ox1467e[5]
    );
  }
  function saveLocal(e, n) {
    window[__Ox1467e[12]][__Ox1467e[11]](__Ox1467e[10] + e, n);
  }
  function getLocal(e) {
    return window[__Ox1467e[12]][__Ox1467e[13]](__Ox1467e[10] + e);
  }
  function onTypeChange(o) {
    o[__Ox1467e[14]];
    setPlaceholder(getPlaceholder());
    setSearchText(o[__Ox1467e[14]][__Ox1467e[15]]);
    saveLocal(__Ox1467e[16], o[__Ox1467e[14]][__Ox1467e[15]]);
    setSearchBlank[__Ox1467e[17]]();
    setCurrent(o[__Ox1467e[14]]);
  }
  function getType() {
    return getLocal(__Ox1467e[16]) || inputTypes[0][__Ox1467e[15]];
  }
  function getNewWindow() {
    var e = getLocal(__Ox1467e[18]);
    return !e || 1 == e;
  }
  function getSearchText() {
    return document[__Ox1467e[3]](__Ox1467e[24])[__Ox1467e[15]];
  }
  function getPlaceholder() {
    return document[__Ox1467e[3]](__Ox1467e[24])[__Ox1467e[26]](
      __Ox1467e[25]
    );
  }
  function setPlaceholder(e) {
    setSearchBlank[__Ox1467e[28]](__Ox1467e[27], e);
  }
  function setSearchText(e) {
    searchForm[__Ox1467e[21]] = e;
  }
  function setBlankChecked(e) {
    e
      ? (searchForm[__Ox1467e[14]] = __Ox1467e[29])
      : searchForm[__Ox1467e[30]](__Ox1467e[14]);
  }

  var inputTypes = document[__Ox1467e[32]](__Ox1467e[31]),
    searchForm = document[__Ox1467e[3]](__Ox1467e[33]),
    setSearchBlank = document[__Ox1467e[3]](__Ox1467e[34]),
    searchText = document[__Ox1467e[3]](__Ox1467e[35]),
    groups = document[__Ox1467e[32]](__Ox1467e[36]);
  inputTypes[0];

  searchText[__Ox1467e[0]] = getNewWindow();

  (function () {
    var n = document[__Ox1467e[3]](
      __Ox1467e[1] + getType() + __Ox1467e[2]
    );
    n && ((n[__Ox1467e[0]] = !0), setCurrent(n));
  })();

  setPlaceholder(getPlaceholder());
  setSearchText(getSearchText());

  for (var i = 0; i < inputTypes[__Ox1467e[4]]; i++)
    inputTypes[i][__Ox1467e[38]](__Ox1467e[37], onTypeChange);

  searchText[__Ox1467e[38]](__Ox1467e[37], function (e) {
    saveLocal(__Ox1467e[18], e[__Ox1467e[14]][__Ox1467e[0]] ? 1 : -1);
    setBlankChecked(e[__Ox1467e[14]][__Ox1467e[0]]);
  });

  searchForm[__Ox1467e[38]](__Ox1467e[39], function (e) {
    e[__Ox1467e[19]]();
    if (__Ox1467e[20] == setSearchBlank[__Ox1467e[15]]) {
      setSearchBlank[__Ox1467e[17]]();
      return !1;
    } else {
      setSearchText(getSearchText() + setSearchBlank[__Ox1467e[15]]);
      setBlankChecked(getNewWindow());
      if (getNewWindow()) {
        window[__Ox1467e[22]](searchForm[__Ox1467e[21]], +new Date());
      } else {
        location[__Ox1467e[23]] = searchForm[__Ox1467e[21]];
      }
    }
  });
})();

// 页面版权年份自动更新
document.getElementById("copyright").innerText =
  "© 2024-" + new Date().getFullYear();

// 站点运行时间显示
var now = new Date();
function createtime() {
  var start = new Date("01/24/2024 00:00:00");
  now.setTime(now.getTime() + 250);
  var days = Math.floor((now - start) / 1000 / 60 / 60 / 24);
  var hours = Math.floor((now - start) / 1000 / 60 / 60 - 24 * days);
  if (String(hours).length === 1) hours = "0" + hours;
  var minutes = Math.floor((now - start) / 1000 / 60 - 1440 * days - 60 * hours);
  if (String(minutes).length === 1) minutes = "0" + minutes;
  var seconds = Math.round(
    (now - start) / 1000 - 86400 * days - 3600 * hours - 60 * minutes
  );
  if (String(seconds).length === 1) seconds = "0" + seconds;
  document.getElementById("siteLifeTime").innerHTML =
    '本站已上线运行：<font style=color:#C40000>' +
    days +
    "</font> 天 <font style=color:#C40000>" +
    hours +
    "</font> 小时 <font style=color:#C40000>" +
    minutes +
    "</font> 分 <font style=color:#C40000>" +
    seconds +
    "</font> 秒";
}
setInterval(createtime, 250);

// 夜间模式提示切换
function switchNightModePromot() {
  var night =
    document.cookie.replace(
      /(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,
      "$1"
    ) || "0";
  document.getElementById("swicthNightMode").title =
    night == "0" ? "切换夜间模式" : "返回白天模式";
}

// 夜间模式切换
function switchNightMode() {
  var night =
    document.cookie.replace(
      /(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,
      "$1"
    ) || "0";
  if (night == "0") {
    document.body.classList.add("night");
    document.cookie = "night=1;path=/";
    console.log("夜间模式开启");
  } else {
    document.body.classList.remove("night");
    document.cookie = "night=0;path=/";
    console.log("夜间模式关闭");
  }
}
setInterval(switchNightModePromot, 250);

// 自动夜间模式检测
(function () {
  var nightCookie = document.cookie.replace(
    /(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,
    "$1"
  );
  if (nightCookie === "") {
    var hour = new Date().getHours();
    if (hour > 22 || hour < 6) {
      document.body.classList.add("night");
      document.cookie = "night=1;path=/";
      console.log("夜间模式开启");
    } else {
      document.body.classList.remove("night");
      document.cookie = "night=0;path=/";
      console.log("夜间模式关闭");
    }
  } else {
    var night = nightCookie || "0";
    if (night == "0") document.body.classList.remove("night");
    else if (night == "1") document.body.classList.add("night");
  }
})();

// 返回顶部
function fk_upWard() {
  if (window.$) {
    $("body,html").animate({ scrollTop: 0 });
  } else {
    document.documentElement.scrollTop = 0;
    document.body.scrollTop = 0;
  }
}

// 全屏切换
var a = 0;
function enterfullscreen() {
  $("#fullscreen").html(" ");
  var e = document.documentElement;
  if (e.requestFullscreen) e.requestFullscreen();
  else if (e.mozRequestFullScreen) e.mozRequestFullScreen();
  else if (e.webkitRequestFullScreen) e.webkitRequestFullScreen();
  else if (e.msRequestFullscreen) e.msRequestFullscreen();
}
function exitfullscreen() {
  $("#fullscreen").html(" ");
  if (document.exitFullscreen) document.exitFullscreen();
  else if (document.mozCancelFullScreen) document.mozCancelFullScreen();
  else if (document.webkitCancelFullScreen) document.webkitCancelFullScreen();
  else if (document.msExitFullscreen) document.msExitFullscreen();
}
$("#fullscreen").on("click", function () {
  ++a % 2 == 1 ? enterfullscreen() : exitfullscreen();
});